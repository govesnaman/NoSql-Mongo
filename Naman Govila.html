<html>

<head>
<title>Registration Form</title>

<link rel="stylesheet" type="text/css" href="add.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<script type="text/javascript">
		
	

		function add(){
			var obj = {};
			
			baseurl = "http://localhost:5000/add"
			initial = document.getElementById("form")

			for (i=0; i<initial.children.length; i++) {
 			var child = initial.children[i];
 			
  			if(child.className=="field")
  			{console.log(child)

			obj[child.name] = child.value;
			
			}
		}

		
			$.ajax({
				type:"POST",
				url: baseurl,
				contentType: "application/json; charset= utf-8",
				dataType: "json",
				data: JSON.stringify(obj),
				success: function(data)
				{
					console.log(data)
					document.location.href = "./Success.html";

				},
				error: function()
				{
					console.log("error")
					document.location.href = "./Failed.html";

				}

			})
		}
	</script>


</head>
<body>
	<div class="navbar">
			<div class="home">
			<h1>CynoWorld</h1>
			</div>

			<div class="brand">
			<h1>Dashboard</h1>
			</div>
			<a href="showall.html" style="color: white"><div class="brand">
			<h1>Manage Employees</h1>
			</div></a>
			<div class="brand" style="background: lightgreen; color: black">
			<h1>Register New Employee</h1>
			</div>
		

</div><h1 id="head">Registration Form</h1>
<div class="body">

<form >
<fieldset id="form">
<legend><h3>Personal Details</h3></legend>
<label>Full Name</label>
<input id="Name" type = "Text" name="Name" class ="field"><br><br>
<label>Current Address  </label>
<input type = "text" name="Address" class ="field"><br><br>
<!--<input type="checkbox" name="checkbox" id="address" value = "checked">
<p1>Is your permanent address same as current address</p1><br><br>
-->
<label>Pin Code </label>
<input id="Pin-Code" type = "number" name="Pin-Code" class ="field"><br><br>
<label>Email ID</label>
<input type = "email" name="Email-ID" class ="field"><br><br>
<label>Mobile No.</label>
<input type = "number" id="Mobile" name="Mobile" class ="field"><br><br>
<label>Age</label>
<input type = "number" name="Age" class ="field"><br><br>
<label>Gender</label>
  <select name="Gender" class="field">
	<option value="male">Male</option>
    <option value="female">Female</option>
    <option value="other">Other</option>
  </select></br></br>

<label>Department  </label>
<input type = "text" name="Department" class ="field"><br><br>
<label>Profile</label>
<input type = "text" name="Profile" id="Profile" class ="field"><br><br>
<label>Employee ID</label>
<input type = "text" id="EmployeeID" name="EmployeeID" class ="field"><br><br>
</fieldset>
<br><br>
<button type="button" href="./submit" onclick="add()">Submit</button>



</form>
</div>
</body>
</html>