<!Doctype html>
<html>
<head>
<title>Add an Employee</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<script type="text/javascript">
		function add(){
			var obj = {};
			
			baseurl = "http://localhost:5000/add"
			initial = document.getElementById("form")

			for (i=0; i<initial.children.length; i++) {
 			var child = initial.children[i];
 			
  			if(child.className=="field")
  			{//console.log(child)

			obj[child.name] = child.value;
			
			}
		}

		
			$.ajax({
				type:"POST",
				url: baseurl,
				contentType: "application/json; charset= utf-8",
				dataType: "json",
				data: JSON.stringify(obj),
				success: function(data)
				{
					console.log(data)
					document.location.href = "./Success.html";

				},
				error: function()
				{
					console.log("error")
					document.location.href = "./Failed.html";

				}

			})
		}
	</script>
</head>

<body>
	<h1>Add an Employee</h1>
	<form id="form">
		<label>First Name</label>
		<input type="text" name="fname" class ="field">
		<label>>Last Name</label>
		<input type="text" name="lname" class="field">
		<label>Age</label>
		<input type="number" name="age" class="field">
		<button type="button" href="./submit" onclick="add()">Submit</button>



	</form>

</body>
</html>